{#
Archivo: app/templates/base.html
Proposito: Layout base para todas las paginas y carga de assets globales.
Bloques: block content (contenido de cada pagina).
Donde tocar si falla: Includes de header/sidebar, active_nav y assets globales.
#}
<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{{ title or "Formatoteca" }}</title>

  <!-- Tailwind CDN (cáscarón) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Lucide Icons -->
  <script src="https://unpkg.com/lucide@latest"></script>

  <link rel="stylesheet" href="/static/css/extra.css">
  <link rel="icon" type="image/png" href="/static/assets/LogoUNAC.png">
</head>

<body class="flex h-screen overflow-hidden text-gray-800 bg-gray-50/50">

  {# Sidebar global #}
  {% include "components/sidebar.html" %}

  <main class="flex-1 flex flex-col min-w-0 bg-gray-50/50">
    {# Header global #}
    {% include "components/header.html" %}

    {# Contenido principal #}
    <div id="main-content" class="flex-1 overflow-auto p-8 relative scroll-smooth">
      <div class="fade-in">
        {% block content %}{% endblock %}
      </div>
      <div class="h-12"></div>
    </div>
  </main>

  {# =========================================================================
  SCRIPTS BASE (orden crítico para Fase 1)
  1. Helpers (gica-dom, gica-api) - sin dependencias
  2. Módulos (cover-preview) - dependen de helpers
  3. Navegación - independiente
  ========================================================================= #}
  <script src="/static/js/gica-dom.js"></script>
  <script src="/static/js/gica-api.js"></script>
  <script src="/static/js/cover-preview.js"></script>

  {# Estado de navegacion y script de navegacion #}
  <script>window.__ACTIVE_NAV__ = "{{ active_nav or "" }}";</script>
  <script src="/static/js/navigation.js"></script>
  <script>
    lucide.createIcons();
  </script>

  {# Bloque para scripts adicionales de páginas específicas #}
  {% block scripts %}{% endblock %}
</body>

</html>